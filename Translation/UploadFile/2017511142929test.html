<!DOCTYPE html>
<html>
<head>
</head>
<body>
<script>  
function saveFile(T,content)  
    {
    var text = document.getElementById(content).innerHTML;
    var filename=document.all(T).value;  
    var win = window.open('', '', 'top=10000,left=10000');
    win.document.write(text);
    win.document.execCommand('SaveAs','',filename);  
    win.close();  
    }  
   // function saveAs(Url, filename) {
   //     var blob = new Blob([''], { type: 'application/octet-stream' });
    //    var url = webkitURL.createObjectURL(blob);
   //     var a = document.createElementNS(xhtml, 'a');
   //     a.href = Url;
   //     a.download = filename;
   //     var e = document.createEvent('MouseEvents');
   //     e.initMouseEvent('click', true, false, window, 0, 0, 0, 0, 0, false, false, false, false, 0, null);
   //     a.dispatchEvent(e);
   //     webkitURL.revokeObjectURL(url);
  //  }
  //  function saveFile(T, content) {
   //     var text = document.getElementById(content).innerHTML;
   //     var filename = document.all(T).value;
   //     var mime = 'text/plain';
    //    saveAs(('data:' + mime + ';charset=utf-8;base64,' + window.btoa(text)), filename);
 //   }
</script>
<h2>txt</h2>  
<div>
<form  name="saveas" action="" method="post">  
文件名称:<input type="text" id="title_1" /> 
<br>  
文件内容：
    <textarea id="content_1">
        Test
    </textarea>
    <br />
<input type="button" value="save as txt file" onClick="saveFile('title_1','content_1')" />  
</form >
</div>  
</body>
</html>